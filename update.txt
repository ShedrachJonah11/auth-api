Improved error handling for invalid URLs
